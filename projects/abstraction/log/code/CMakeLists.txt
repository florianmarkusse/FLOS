create_abstraction_targets(abstraction-log)

add_project("shared")

if(${ENVIRONMENT} STREQUAL "FREESTANDING")
    add_project("freestanding")
    abstraction_add_sources(freestanding-log)
elseif(${ENVIRONMENT} STREQUAL "EFI")
    add_project("efi")
    abstraction_add_sources(efi-log)
elseif(${ENVIRONMENT} STREQUAL "POSIX")
    add_project("posix")
    abstraction_add_sources(posix-log)
else()
    message(FATAL_ERROR "Could not match ENVIRONMENT variable")
endif()
