create_abstraction_targets(abstraction-memory-physical)

if("${ENVIRONMENT}" STREQUAL "efi")
    add_project("efi")
    abstraction_add_sources(efi-memory)
elseif("${ARCHITECTURE}" STREQUAL "x86")
    add_project("x86/memory/physical")
    abstraction_add_sources(x86-memory-physical)
    abstraction_add_sources(x86-memory-physical-status)
else()
    message(FATAL_ERROR "Could not find matching lib for ${PROJECT_NAME}")
endif()
